# Краулер

**Данный краулер является частью единого многокомпонентного проекта Statist, разработанного командой начинающих программистов в рамках стажировки на образовательной площадке GeekBrains.**

Краулер является поисковым роботом, который ищет страницы заданных в БД сайтов. При этом для направления краулера и повышения эффективности используются правила robots.txt и карта сайта различных форматов в случае их наличия.
В случае отсутствия карты сайта, краулер прибегает к рекурсивному обходу страниц учитывая ограничения robots.txt, дополнительные ограничения глубины обхода и лимит количества найденных страниц также задаются и учитываюся. 
URL найденных страницы добавляются в базу данных.

Ссылки на страницы сайтов в базе данных используются на следующем этапе, чтоб скачать страницы и просканировать их. Сканнер ищет на странице два заданных слова с учетом заданного максимального расстояния между ними для вычисления суммарного рейтинга объекта-запроса на определенном сайте в определенный день. Если задано одно ключевое слово, рейтинг также считается. Данные о рейтингах объектов-запросов заносятся в базу данных для каждого сайта. Архитектура и логика работы позволяет следить за ежедневным изменением рейтинга объектов-запросов с учетом появления новых и наличия на странице старых уже засчитанных упоминаний.

В процессе всей работы краулер предоставляет информацию о ходе поиска страниц и сканировании страниц на ключевые слова.

Краулер работает в цикле. Задержка перед запуском программы и интервал между проходами задается вручную, по-умолчнаию краулер ждет до 23:30(UTC0) и запускается с интревалом в сутки.

Язык разработки: Python 3.
Кроме стандартных инструментов языка, также использовались такие модули:
- sqlalchemy
- pymysql
- reppy
- html5lib
- beautifulsoup4
- html2text
- requests

В процессе разработаки использовались методы объектно-ориентированного программирования, функциональное программирование, декларативный стиль. Практиковалось написание кода техникой TDD.

Были использованы различные паттерны проектирования, в том числе - паттерны объектно-реляционного структурирования (поле первичного ключа, разметка внешних ключей), обработки объектно-реляционных метаданных (шаблон репозиторий, объект-запрос) и другие.  
